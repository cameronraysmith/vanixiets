---
title: vanixiets
description: Multi-machine Nix infrastructure using dendritic flake-parts and clan-core
template: splash
hero:
  tagline: "Multi-machine Nix infrastructure for NixOS, nix-darwin, and home-manager using dendritic flake-parts module organization and clan-core deployment coordination."
  image:
    file: ../../assets/nix-snowflake-colours.svg
  actions:
    - text: Getting started
      link: /guides/getting-started/
      icon: right-arrow
      variant: primary
    - text: View on GitHub
      link: https://github.com/cameronraysmith/vanixiets
      icon: external
      variant: minimal
---

import { Card, CardGrid } from "@astrojs/starlight/components";

## Features

<CardGrid stagger>
  <Card title="Dendritic module organization" icon="puzzle">
    Every Nix file is a flake-parts module organized by aspect (feature) rather than host.
    Cross-cutting configuration spans NixOS, nix-darwin, and home-manager from unified modules.
  </Card>
  <Card title="Clan-core deployment" icon="rocket">
    Multi-machine coordination with unified deployment across 8 machines (4 darwin, 4 nixos).
    Service orchestration via inventory system with role-based assignments.
  </Card>
  <Card title="Per-package nixpkgs channel selection" icon="shield">
    Multi-channel overlay architecture enables unstable default with selective stable fallbacks.
    Apply surgical fixes for broken packages without requiring full flake.lock rollback.
  </Card>
  <Card title="Cross-platform deployment targets" icon="laptop">
    Deploy to NixOS, nix-darwin, or home-manager configurations.
    Consistent architecture across Linux and macOS systems with platform-specific modules.
  </Card>
  <Card title="Two-tier secrets management" icon="lock">
    Clan vars for system-level generated secrets (SSH keys, zerotier identities).
    sops-nix for user-level manual secrets (API tokens, personal credentials).
  </Card>
  <Card title="Composable package overlays" icon="puzzle">
    Five-layer overlay composition: multi-channel access, hotfixes, custom packages, overrides, flake inputs.
    pkgs-by-name pattern for custom package definitions.
  </Card>
  <Card title="Infrastructure as code" icon="cloud">
    Terranix modules for Hetzner and GCP infrastructure provisioning.
    Togglable compute nodes for cost-controlled cloud resources.
  </Card>
</CardGrid>

## Quick start

```bash
# Clone repository
git clone https://github.com/cameronraysmith/vanixiets.git
cd vanixiets

# Bootstrap nix and essential tools
make bootstrap && exec $SHELL

# Activate direnv
direnv allow

# Activate configuration
just activate
```

See [Getting started guide](/guides/getting-started/) for complete setup instructions.

## Architecture

Multi-layer architecture combining complementary patterns:

1. **flake-parts** - Modular flake composition framework
2. **dendritic pattern** - Aspect-based module organization with import-tree auto-discovery
3. **clan-core** - Multi-machine coordination and deployment
4. **multi-channel overlays** - Per-package nixpkgs channel selection for resilience

Learn more in [Architecture overview](/concepts/architecture-overview/).

## Documentation structure

- **Guides** - Task-oriented how-tos for common operations
- **Concepts** - Understanding-oriented explanations of architecture and patterns
- **Reference** - Information-oriented lookup material
- **Development** - AMDiRE-based development documentation

## Next steps

<CardGrid>
  <Card title="Understand the architecture" icon="open-book">
    Dendritic flake-parts + clan-core architecture for multi-machine deployments.
    [Architecture overview →](/concepts/architecture-overview/)
  </Card>
  <Card title="Learn dendritic pattern" icon="puzzle">
    Aspect-based module organization where every file is a flake-parts module.
    [Dendritic Architecture →](/concepts/dendritic-architecture/)
  </Card>
  <Card title="Understand clan integration" icon="rocket">
    Multi-machine coordination, deployment, and service orchestration.
    [Clan Integration →](/concepts/clan-integration/)
  </Card>
  <Card title="Add a new host" icon="laptop">
    Onboard a new NixOS or nix-darwin system with this configuration.
    [Host onboarding guide →](/guides/host-onboarding/)
  </Card>
</CardGrid>
