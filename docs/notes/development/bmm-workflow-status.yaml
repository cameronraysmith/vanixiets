# Workflow Status Template
# This tracks progress through phases 1-3 of the BMM methodology
# Phase 4 (Implementation) is tracked separately in sprint-status.yaml

# generated: 2025-11-05
# project: infra
# project_type: software
# project_level: 3
# field_type: brownfield
# workflow_path: brownfield-level-3.yaml

# STATUS DEFINITIONS:
# ==================
# Initial Status (before completion):
#   - required: Must be completed to progress
#   - optional: Can be completed but not required
#   - recommended: Strongly suggested but not required
#   - conditional: Required only if certain conditions met (e.g., if_has_ui)
#   - deferred: Required but intentionally postponed with explicit rationale
#
# Completion Status:
#   - {file-path}: File created/found (e.g., "docs/product-brief.md")
#   - skipped: Optional/conditional workflow that was skipped
#   - in-progress: Currently being worked on
#   - completed: Finished and validated

# NON-STANDARD WORKFLOW SEQUENCING:
# =================================
# Standard BMAD path: PRD � architecture � epics � sprint-planning � implementation
# This project path:  PRD � epics � sprint-planning � Epic 1 (Phase 0) � architecture
#
# RATIONALE: Phase 0 (Epic 1) is architectural validation of unproven dendritic + clan
# integration patterns. The architecture workflow should document VALIDATED patterns
# after Epic 1 completes, not speculative patterns before validation.
#
# RETURN POINT: After Epic 1 completion (or sufficient validation), return to this file
# to resume standard workflow: create-architecture � validate-architecture �
# solutioning-gate-check � continue implementation with validated patterns.

generated: "2025-11-05"
project: "infra"
project_type: "software"
project_level: "3"
field_type: "brownfield"
workflow_path: "brownfield-level-3.yaml"

workflow_status:
  # Prerequisite: Documentation (conditional - if_undocumented)
  document-project: skipped  # Existing docs comprehensive, will validate/polish separately

  # ============================================================================
  # Phase 1: Analysis - COMPLETED
  # ============================================================================
  brainstorm-project: skipped  # Analysis done manually in docs/notes/clan/integration-plan.md
  research: docs/notes/clan/integration-plan.md  # Comprehensive research documented
  product-brief: docs/notes/development/bmm-product-brief-infra-2025-11-02.md

  # ============================================================================
  # Phase 2: Planning - COMPLETED
  # ============================================================================
  prd: docs/notes/development/PRD/index.md  # Completed 2025-11-02, sharded 2025-11-12
  validate-prd: skipped  # PRD validated through epic creation process
  create-design: skipped  # No UI work (infrastructure project)
  create-epics-and-stories: docs/notes/development/epics/index.md  # Completed 2025-11-03, sharded 2025-11-12

  # ============================================================================
  # Phase 3: Solutioning - DEFERRED (pending Epic 1 architectural validation)
  # ============================================================================
  # IMPORTANT: These workflows are intentionally deferred until Epic 1 (Phase 0)
  # validates the dendritic + clan integration patterns. Do NOT proceed to these
  # until Epic 1 is complete or sufficient validation achieved.

  architecture-review: docs/notes/clan/integration-plan.md  # Initial architecture documented
  integration-planning: docs/notes/clan/integration-plan.md  # Integration strategy documented

  # DEFERRED: Run create-architecture workflow AFTER Epic 1 completion
  # Purpose: Document VALIDATED patterns from Epic 1 (dendritic evaluation, clan integration)
  # Expected artifacts:
  #   - docs/notes/development/architecture/index.md (sharded 2025-11-12)
  #   - Architecture decisions from Story 1.2 dendritic evaluation
  #   - Validated patterns from Stories 1.4-1.5 (terraform, clan, infrastructure)
  #   - Integration findings from Story 1.11
  create-architecture: docs/notes/development/architecture/index.md  # Created early, sharded 2025-11-12

  validate-architecture: deferred  # After create-architecture completes

  # DEFERRED: Run solutioning-gate-check AFTER architecture + validation
  # Purpose: Validate all planning/solutioning complete before Epic 2+ implementation
  # Checks: PRD � epics � architecture alignment, no gaps or contradictions
  solutioning-gate-check: deferred  # After validate-architecture completes

  # ============================================================================
  # Phase 4: Implementation - IN PROGRESS (Epic 1: Phase 0 Validation)
  # ============================================================================
  # Implementation tracking is in sprint-status.yaml
  # Current status: Epic 1 in progress (Stories 1.1-1.5 done, 1.2 ready-for-dev, 1.6+ drafted)

  sprint-planning: docs/notes/development/sprint-status.yaml  # Active tracking, updated 2025-11-05

# ============================================================================
# POST-EPIC-1 WORKFLOW ROADMAP
# ============================================================================
# After Epic 1 completes (or sufficient architectural validation achieved):
#
# 1. Review Epic 1 Findings:
#    - Story 1.2: Dendritic evaluation results (Outcome A/B/C with rationale)
#    - Story 1.5: Validated infrastructure patterns (terraform, clan, disko)
#    - Story 1.11: Integration findings and patterns documentation
#    - Story 1.12: Go/No-Go decision outcomes
#
# 2. Run create-architecture workflow:
#    - /bmad:bmm:workflows:architecture
#    - Document validated patterns from Epic 1
#    - Capture architectural decisions (dendritic adoption, clan patterns, infrastructure)
#    - Create architecture.md or architecture/index.md (consider sharding if large)
#
# 3. Update related documents (if needed):
#    - PRD.md: Update with validated technical approach from Epic 1
#    - epics.md: Refine Epic 2+ stories based on validated patterns
#    - Consider sharding: PRD/index.md, epics/index.md if documents too large
#
# 4. Run validate-architecture workflow:
#    - Verify architecture � PRD � epics alignment
#    - Check for gaps, contradictions, missing decisions
#
# 5. Run solutioning-gate-check workflow:
#    - /bmad:bmm:workflows:solutioning-gate-check
#    - Final validation before proceeding to Epic 2+ implementation
#    - Ensures planning/solutioning phases complete and aligned
#
# 6. Resume sprint-planning:
#    - Update sprint-status.yaml for Epic 2 (Phase 1: cinnabar VPS)
#    - Continue implementation with validated architecture
#
# DECISION POINT: Steps 2-5 can be executed as soon as Epic 1 provides sufficient
# architectural validation, even if Epic 1 is not 100% complete. Use Epic 1
# retrospective (Story 1.12 or epic-1-retrospective) to determine readiness.

# ============================================================================
# NOTES ON DOCUMENT SHARDING
# ============================================================================
# Documents sharded on 2025-11-12 (all exceeded >500 line threshold):
#
# PRD.md → PRD/index.md + 13 section files (via bunx @kayvan/markdown-tree-parser)
# epics.md → epics/index.md + 7 epic files + 3 support files (via bunx @kayvan/markdown-tree-parser)
# architecture.md → architecture/index.md + 17 section files (via bunx @kayvan/markdown-tree-parser)
#
# Phase 4 workflows can now selectively load only needed sections for token efficiency.
#
# Use /bmad:core:tools:shard-doc (or bunx @kayvan/markdown-tree-parser) for future sharding.
